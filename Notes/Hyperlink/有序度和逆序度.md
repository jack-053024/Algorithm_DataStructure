[TOC]

# 利用有序度与逆序度分析平均时间复杂度

平均时间复杂度的计算时常需要用到概率论的知识，分析起来比较复杂；为了简化分析，引入有序度跟逆序度的概念，通过这两个概念，来分析平均时间复杂度。

## 一、有序度

有序度是指，数组中具有有序关系的元素对的个数。如下图所示：

![img](E:\MarkdownProjects\Algorithm\Hyperlink\有序度和逆序度.assets\a1ef4cc1999d6bd0af08d8417ee55220.jpg)

同理，对于数组 `6， 5， 4， 3， 2，1`，其有序度为 `0`，对于 `1,2,3,4,5,6`，其有序度为 `n*(n-1)/2`，也就是 `15`，像这种完全有序的数组，其有序度我们称为**满有序度**。

## 二、逆序度

同理，逆序度跟有序度相反，很容易可以知道。

## 三、满有序度、逆序度与有序度

逆序度 = 满有序度 - 有序度

## 四、具体使用

为什么它可以用来分析平均复杂度呢？

因为对于有些排序算法，其核心是比较和交换，如冒泡排序，每次冒泡都要先进行比较，如果结果符合既定大小关系，则不交换，否则交换。每次交换之后，数组的有序度都会加 `1`，当达到满有序度的时候，即排序完成。所以由上可以思考得到，无论算法怎么优化改变，数组一旦给定，其交换的次数就是一定的。数组如果一开始就是有序的，则为满有序度，如果是逆序的，则有序度为 `0`，所以可以用这个思路，将 **（满有序度 + 0）/ 2** 得到的**平均交换次数**当做平均复杂度。

平均复杂度 = 满有序度 / 2